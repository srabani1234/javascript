<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="style.css" />
    <title>Guess My Number!</title>
  </head>
  <body>
    <header>
      <h1>Guess My Number!</h1>
      <p class="between">(Between 1 and 20)</p>
      <button class="btn again">Again!</button>
      <div class="number">?</div>
    </header>
    <main>
      <section class="left">
        <input type="number" class="guess" />
        <button class="btn check">Check!</button>
      </section>
      <section class="right">
        <p class="message">Start guessing...</p>
        <p class="label-score">ðŸ’¯ Score: <span class="score">20</span></p>
        <p class="label-highscore">
          ðŸ¥‡ Highscore: <span class="highscore">0</span>
        </p>
      </section>
    </main>
    <script >
// dom select and manipulation
    // console.log(document.querySelector('.message').textContent);
    // document.querySelector('.message').textContent="Correct Number"
    // console.log(document.querySelector('.message').textContent);

    // document.querySelector('.score').textContent = 40;
    // console.log(document.querySelector('.score').textContent)
    // console.log(document.querySelector('.number').textContent=100)
    // document.querySelector('.guess').value = 23;
    // console.log(document.querySelector('.guess').value);

   // click event listener
    let score=20;
    let heighestScore =0;
    let secretRandomNumber = Math.trunc(Math.random()*20)+1;
   
   document.querySelector('.check').addEventListener('click',function(){
  //  document.querySelector('.guess').value = 23;

  const dataInInput = Number(document.querySelector('.guess').value);
    console.log(dataInInput, typeof(dataInInput));
    // when no input
    if(!dataInInput){
        document.querySelector('.message').textContent="Incorrect Number"
    }
    // when guess ins low
    // else if (dataInInput<secretRandomNumber){
    //     if(score>1){
    //     document.querySelector('.message').textContent="Too Low";
    //     score --;
    //     document.querySelector('.score').textContent = score;
    //     }
    //     else{
    //         document.querySelector('.score').textContent = 0;
    //         document.querySelector('.message').textContent="You lost game";
    //     }
    // }
    // when guess is heigh
    // else if (dataInInput>secretRandomNumber){
    //     if (score>1){
    //     document.querySelector('.message').textContent="Too Height";
    //     score--;
    //     document.querySelector('.score').textContent = score;
    //     }
    //     else {
    //         document.querySelector('.score').textContent = 0;
    //         document.querySelector('.message').textContent="You lost game";
    //     }
    // }

    // common code for > and <

    else if (dataInInput!==secretRandomNumber){
 

      if (score>1){
        document.querySelector('.message').textContent=dataInInput>secretRandomNumber?"Too Height":"Too Light";
        score--;
        document.querySelector('.score').textContent = score;
        }
        else {
            document.querySelector('.score').textContent = 0;
            document.querySelector('.message').textContent="You lost game";
        }


    }
    // when guess is correct
    else if (dataInInput ===secretRandomNumber){
        document.querySelector('.message').textContent="Correct Number"; 
        document.querySelector('.number').textContent=secretRandomNumber
        document.querySelector('body').style.backgroundColor = '#60b347';
        document.querySelector('.number').style.width = '30rem';

        if(score>heighestScore){
          heighestScore=score;
          document.querySelector('.highscore').textContent = heighestScore

        }
    }

   })

   // Coding Challenge #1

/* 
Implement a game rest functionality, so that the player can make a new guess! Here is how:
1. Select the element with the 'again' class and attach a click event handler
2. In the handler function, restore initial values of the score and secretNumber variables
3. Restore the initial conditions of the message, number, score and guess input field
4. Also restore the original background color (#222) and number width (15rem)
GOOD LUCK ðŸ˜€
*/
document.querySelector('.again').addEventListener('click',function(){
    score=20;
    secretRandomNumber = Math.trunc(Math.random()*20)+1;
    document.querySelector('.message').textContent="Start guessing..."; 
    document.querySelector('.score').textContent = score;
    document.querySelector('.guess').value ='';
    document.querySelector('.number').textContent='?';
    document.querySelector('body').style.backgroundColor = '#222';
    document.querySelector('.number').style.width = '15rem';


})
    </script>
  </body>
</html>